"use strict";var d=Object.defineProperty;var D=Object.getOwnPropertyDescriptor;var F=Object.getOwnPropertyNames,R=Object.getOwnPropertySymbols;var j=Object.prototype.hasOwnProperty,H=Object.prototype.propertyIsEnumerable;var $=(e,t,o)=>t in e?d(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,g=(e,t)=>{for(var o in t||(t={}))j.call(t,o)&&$(e,o,t[o]);if(R)for(var o of R(t))H.call(t,o)&&$(e,o,t[o]);return e};var M=(e,t)=>{for(var o in t)d(e,o,{get:t[o],enumerable:!0})},X=(e,t,o,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of F(t))!j.call(e,r)&&r!==o&&d(e,r,{get:()=>t[r],enumerable:!(a=D(t,r))||a.enumerable});return e};var k=e=>X(d({},"__esModule",{value:!0}),e);var f=(e,t,o)=>new Promise((a,r)=>{var C=l=>{try{c(o.next(l))}catch(n){r(n)}},K=l=>{try{c(o.throw(l))}catch(n){r(n)}},c=l=>l.done?a(l.value):Promise.resolve(l.value).then(C,K);c((o=o.apply(e,t)).next())});var z={};M(z,{createI18nServer:()=>q});module.exports=k(z);var de=require("server-only");var y=require("react");function x(e,t){let{localeContent:o,fallbackLocale:a}=e,r=new Set(Object.keys(o).filter(c=>c.includes("#")).map(c=>c.split("#")[0])),C=new Intl.PluralRules(e.locale);function K(c,...l){var I,V;let n=l[0],O=!1;n&&"count"in n&&r.has(c)&&(c=`${c}#${C.select(n.count)}`,O=!0);let s=(t?o[`${t}.${c}`]:o[c])||(t?a==null?void 0:a[`${t}.${c}`]:a==null?void 0:a[c]);if(!s&&O){let p=c.split("#")[0];s=(I=o[`${p}#other`]||(a==null?void 0:a[`${p}#other`])||c)==null?void 0:I.toString()}else s=(V=s||c)==null?void 0:V.toString();if(!n)return s;let h=!0,m=s==null?void 0:s.split(/({[^}]*})/).map((p,_)=>{let E=p.match(/{(.*)}/);if(E){let P=E[1],u=n[P];return typeof u!="string"&&(h=!1),(0,y.isValidElement)(u)?(0,y.cloneElement)(u,{key:`${String(P)}-${_}`}):u}return p});return h?m==null?void 0:m.join(""):m}return K}var S=require("next/headers"),b=require("react");var G="X-Next-Locale",T="Next-Locale";var L=(0,b.cache)(()=>{var t;let e;if(e=(0,S.headers)().get(G),e||(e=(t=(0,S.cookies)().get(T))==null?void 0:t.value),!e)throw new Error("Could not get the locale from the headers or cookies.");return e});var i=(e,t="")=>Object.entries(e).reduce((o,[a,r])=>g(g({},o),typeof r=="string"?{[t+a]:r}:i(r,`${t}${a}.`)),{});function w(e){return function(){return f(this,null,function*(){let o=L();return x({localeContent:i((yield e[o]()).default),fallbackLocale:void 0,locale:o},void 0)})}}function B(e){return function(o){return f(this,null,function*(){let a=L();return x({localeContent:i((yield e[a]()).default),fallbackLocale:void 0,locale:a},o)})}}function A(){return function(){return L()}}function N(e){return function(){return Object.keys(e).map(o=>({locale:o}))}}function q(e){let t=w(e),o=B(e),a=A(),r=N(e);return{getI18n:t,getScopedI18n:o,getCurrentLocale:a,getStaticParams:r}}0&&(module.exports={createI18nServer});
